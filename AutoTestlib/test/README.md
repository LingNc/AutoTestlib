# AutoTestlib 测试指南

本文档描述如何运行和维护AutoTestlib的测试。

## 测试结构

测试代码位于 `test/` 目录下，主要测试文件是 `test.cpp`。测试涵盖以下模块：

1. **Args类** - 命令行参数处理
2. **Process类** - 进程管理与通信
3. **KeyCircle类** - API密钥管理
4. **JudgeSign** - 判题结果枚举

## 运行测试

要运行完整的测试套件，请使用：

```bash
make test
```

## 添加新测试

向测试添加新的测试用例时，应遵循以下结构：

1. 创建针对特定模块的测试函数 (例如: `test_new_module()`)
2. 使用 `report_test()` 函数报告测试结果
3. 在 `main()` 函数中调用新的测试函数

## 测试用例编写建议

1. 对每个类的每个公共方法进行测试
2. 测试边缘情况和异常处理
3. 为每个测试提供清晰的描述
4. 确保测试后清理所有临时文件和资源

## 自动测试集成

可以在CI/CD流程中集成测试：

```yaml
test_step:
  - make test
```

测试成功将返回状态码0，失败则非0
